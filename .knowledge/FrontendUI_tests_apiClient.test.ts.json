{"is_source_file": true, "format": "TypeScript", "description": "Unit test script for the API client, testing request header injection and token clearing on 401 response.", "external_files": ["../src/api/client", "axios"], "external_methods": ["axios.create", "jest.mock", "jest.fn()", "localStorage.setItem", "localStorage.clear", "localStorage.getItem", "expect"], "published": [], "classes": [], "methods": [{"name": "beforeEach", "description": "Sets up mock axios instance before each test."}, {"name": "test", "description": "Defines individual test cases for the API client behavior."}], "calls": ["jest.mock", "axios.create", "localStorage.setItem", "localStorage.clear", "localStorage.getItem", "expect", "api._req", "api._err"], "search-terms": ["apiClient", "axios mock", "Authorization header", "token handling", "jest test"], "state": 2, "file_id": 27, "knowledge_revision": 56, "git_revision": "", "ctags": [{"_type": "tag", "name": "cfg", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-154/FrontendUI/tests/apiClient.test.ts", "pattern": "/^    const cfg = await (instance as any).interceptors.request.use((c: any) => c) || (api as any)./", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "err", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-154/FrontendUI/tests/apiClient.test.ts", "pattern": "/^    const err = { response: { status: 401 } };$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "instance", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-154/FrontendUI/tests/apiClient.test.ts", "pattern": "/^    const instance: any = (axios.create as any).mock.results[0].value;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "mockedAxios", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-154/FrontendUI/tests/apiClient.test.ts", "pattern": "/^const mockedAxios = axios as jest.Mocked<typeof axios>;$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "res", "path": "/home/kavia/workspace/code-generation/robot-framework-test-manager-fullstack-application-for-test-script-management-36-154/FrontendUI/tests/apiClient.test.ts", "pattern": "/^    const res = await (api as any)._req({ headers: {} });$/", "language": "TypeScript", "kind": "constant"}], "hash": "3357c14f71126c5e4810e7f9f8a9fad9", "format-version": 4, "code-base-name": "FrontendUI", "filename": "FrontendUI/tests/apiClient.test.ts", "revision_history": [{"56": ""}]}